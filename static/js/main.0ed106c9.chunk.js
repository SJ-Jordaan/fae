(this.webpackJsonpfae=this.webpackJsonpfae||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(22),a=n.n(i),r=(n(92),n(159)),l=n(17),s=n(14),u=n(13),d=n(165),b=n(31),j=n.n(b),f=n(109),x=n(72),O=n.n(x),h=n(155),m=n(73),v=n(2),g={cursor:"context-menu",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},p=function(e){var t,n=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],o=t[1];return[n,function(e){e.preventDefault(),e.stopPropagation(),o(null===n?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null)},function(){o(null)}]}(),o=Object(u.a)(n,3),i=o[0],a=o[1],l=o[2];return Object(v.jsxs)(r.a,{sx:g,onContextMenu:a,children:[e.children,Object(v.jsx)(m.a,{open:null!==i,onClose:l,anchorReference:"anchorPosition",anchorPosition:null!==i?{top:i.mouseY,left:i.mouseX}:void 0,children:null===(t=e.contextMenuItems)||void 0===t?void 0:t.map((function(e,t){return Object(v.jsx)(h.a,{onMouseDown:function(t){e.handleClick(t),l()},children:e.text},"menuItem-".concat(t))}))})]})},S={display:"flex",borderRadius:"50%",borderColor:"grey.500",border:1,justifyContent:"center",alignItems:"center",width:"3em",boxSizing:"border-box",height:"3em",backgroundColor:"white"},I={border:"4px double black"},C={display:"flex",justifyContent:"center",boxSizing:"border-box",width:"100px",alignItems:"center"},k={display:"flex",margin:"0 24px 0 0"},w=function(e){var t=Object(c.useRef)(null),n=Object(b.useXarrow)();return Object(v.jsx)(O.a,{nodeRef:t,bounds:"parent",position:e.node.position,onStop:function(t,c){n(t),e.updateNode(e.index,Object(l.a)(Object(l.a)({},e.node),{},{position:{x:c.x,y:c.y}}))},onDrag:function(e){n(e)},onMouseDown:function(){e.onClick()},children:e.node.isStarting?Object(v.jsxs)(r.a,{ref:t,sx:C,children:[Object(v.jsx)(r.a,{sx:k,id:"entryNode"}),Object(v.jsx)(r.a,{sx:e.node.isAccepting?Object(l.a)(Object(l.a)({},S),I):S,id:e.node.label,children:Object(v.jsx)(p,{contextMenuItems:e.contextMenuItems,children:Object(v.jsx)(f.a,{children:e.node.label})})})]}):Object(v.jsx)(r.a,{ref:t,id:e.node.label,sx:e.node.isAccepting?Object(l.a)(Object(l.a)({},S),I):S,children:Object(v.jsx)(p,{contextMenuItems:e.contextMenuItems,children:Object(v.jsx)(f.a,{children:e.node.label})})})})},y=function(){var e=Object(c.useRef)(null),t=function(){var e=Object(c.useState)({x:0,y:0}),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=function(e){return o({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),n}(),n=Object(b.useXarrow)();Object(c.useEffect)((function(){n()}),[]);var o={transform:"translate3d(".concat(t.x-18,"px, ").concat(t.y-18,"px, 0)")};return Object(v.jsx)(r.a,{id:"mouseTracker",ref:e,sx:o})},M=n(158),A=n(152),N=n(161),X=n(164),E=n(162),T=n(163),D=n(150),R=n(157),J=function(e){var t,n,o=Object(c.useState)(""),i=Object(u.a)(o,2),a=i[0],r=i[1],s=function(){var t;null===(t=e.onClose)||void 0===t||t.call(e,e.transition),r("")};return Object(v.jsx)(R.a,{open:e.showModal,children:Object(v.jsxs)(N.a,{open:e.showModal,onClose:s,children:[Object(v.jsx)(D.a,{children:"Transition Value"}),Object(v.jsxs)(E.a,{children:[Object(v.jsxs)(T.a,{children:["Enter the value for the transition from ",null===(t=e.transition)||void 0===t?void 0:t.start," to"," ",null===(n=e.transition)||void 0===n?void 0:n.end,"."]}),Object(v.jsx)(A.a,{autoFocus:!0,margin:"dense",id:"transition",label:"Transition value",type:"text",value:a,onInput:function(e){return r(e.target.value)},fullWidth:!0,variant:"standard"})]}),Object(v.jsxs)(X.a,{children:[Object(v.jsx)(M.a,{onClick:s,children:"Cancel"}),Object(v.jsx)(M.a,{onClick:function(){var t;null===(t=e.onSubmit)||void 0===t||t.call(e,e.transition,Object(l.a)(Object(l.a)({},e.transition),{},{value:a,labels:Object(v.jsx)(f.a,{bgcolor:"white",children:a})})),r("")},children:"Submit"})]})]})})},P=n(44),Y=function e(){Object(P.a)(this,e)};Y.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=JSON.stringify(t);sessionStorage.setItem(e,c),n&&localStorage.setItem(e,c)},Y.getItem=function(e){var t=sessionStorage.getItem(e)||localStorage.getItem(e);return t?JSON.parse(t):null},Y.removeItem=function(e){sessionStorage.removeItem(e),localStorage.removeItem(e)};var z="nodes",W="transitions",L={height:"100%",width:"100%",minWidth:"100vw",boxSizing:"border-box",padding:"24px"},B={color:"black",strokeWidth:2},F=function(e){var t=Object(c.useState)(Y.getItem(z)||[]),n=Object(u.a)(t,2),o=n[0],i=n[1],a=Object(c.useState)(Y.getItem(W)||[]),r=Object(u.a)(a,2),f=r[0],x=r[1],O=Object(c.useState)(null),h=Object(u.a)(O,2),m=h[0],g=h[1],S=Object(c.useState)(!1),I=Object(u.a)(S,2),C=I[0],k=I[1],M=function(e){if(0===o.length)return i([{label:"S0",isStarting:!0,isAccepting:!1,position:{x:0,y:0}}]),void x([{start:"entryNode",end:"S0"}]);var t={label:"S".concat(o.length),isAccepting:!1,position:{x:0,y:0}};i((function(e){return[].concat(Object(s.a)(e),[t])}))},A=function(e,t){var n=Object(s.a)(o);n[e]=t,i(n)},N=function(){var e=o.map((function(e,t){var n=[e.isAccepting?{text:"Make Non-accepting State",handleClick:function(){return A(t,Object(l.a)(Object(l.a)({},e),{},{isAccepting:!1}))}}:{text:"Make Accepting State",handleClick:function(){return A(t,Object(l.a)(Object(l.a)({},e),{},{isAccepting:!0}))}},{text:"Add Transition",handleClick:function(){return function(e){var t={start:e.label,end:"mouseTracker",value:0};g(t),x((function(e){return[].concat(Object(s.a)(e),[t])}))}(e)}},{text:"Delete",handleClick:function(){return function(e){var t=o.filter((function(t){return t.label!==e.label}));if(e.isStarting&&1!==o.length){t[0].isStarting=!0;var n=Object(s.a)(f);n[0].end=t[0].label,x(n)}var c=f.filter((function(t){return t.start!==e.label&&t.end!==e.label}));i(t),x(c)}(e)}}];return Object(v.jsx)(w,{updateNode:A,onClick:function(){return function(e){if(m){var t=f.filter((function(e){return"mouseTracker"!==e.end})),n=f[f.length-1];n.end=e.label,g(null),k(!0),x([].concat(Object(s.a)(t),[n]))}}(e)},contextMenuItems:n,index:t,node:e},"".concat(e.label,"-").concat(t))})),t=f.map((function(e,t){return Object(v.jsx)(j.a,Object(l.a)(Object(l.a)({},e),B),"".concat(e.start,"-").concat(e.end,"-").concat(t))}));return[].concat(Object(s.a)(e),Object(s.a)(t))},X=[{text:"Add State",handleClick:function(e){return M()}},{text:"Save Progress",handleClick:function(){Y.setItem(z,o,!0),Y.setItem(W,f,!0)}},{text:"Clear Canvas",handleClick:function(){x([]),i([])}}];return Object(v.jsx)(p,{contextMenuItems:X,children:Object(v.jsx)(d.a,{sx:L,children:Object(v.jsxs)(b.Xwrapper,{children:[m&&Object(v.jsx)(y,{}),Object(v.jsx)(N,{}),Object(v.jsx)(J,{showModal:C,transition:f[f.length-1],onSubmit:function(e,t){!function(e,t){var n=f.filter((function(t){return t!==e}));x([].concat(Object(s.a)(n),[t]))}(e,t),k(!1),g(null)},onClose:function(e){k(!1),function(e){var t=f.filter((function(t){return t!==e}));x(t)}(e),g(null)}})]})})})},V={display:"flex",height:"100%"},q=function(){return Object(v.jsx)(r.a,{sx:V,children:Object(v.jsx)(F,{})})};a.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(q,{})}),document.getElementById("root"))},92:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.0ed106c9.chunk.js.map