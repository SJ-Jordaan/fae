(this.webpackJsonpfae=this.webpackJsonpfae||[]).push([[0],{73:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(21),r=n.n(i),a=(n(73),n(118)),u=n(18),l=n(12),s=n(10),b=n(120),d=n(24),j=n.n(d),x=n(119),f=n(63),O=n.n(f),h=n(116),p=n(115),m=n(2),g={cursor:"context-menu",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},v=function(e){var t,n=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],o=t[1];return[n,function(e){e.preventDefault(),e.stopPropagation(),o(null===n?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null)},function(){o(null)}]}(),o=Object(s.a)(n,3),i=o[0],r=o[1],u=o[2];return Object(m.jsxs)(a.a,{sx:g,onContextMenu:r,children:[e.children,Object(m.jsx)(p.a,{open:null!==i,onClose:u,anchorReference:"anchorPosition",anchorPosition:null!==i?{top:i.mouseY,left:i.mouseX}:void 0,children:null===(t=e.contextMenuItems)||void 0===t?void 0:t.map((function(e,t){return Object(m.jsx)(h.a,{onMouseDown:function(t){e.handleClick(t),u()},children:e.text},"menuItem-".concat(t))}))})]})},S={display:"flex",borderRadius:"50%",borderColor:"grey.500",border:1,justifyContent:"center",alignItems:"center",width:"3em",boxSizing:"border-box",height:"3em",backgroundColor:"white"},k={border:"4px double black"},y={display:"flex",justifyContent:"center",boxSizing:"border-box",width:"100px",alignItems:"center"},w={display:"flex",margin:"0 24px 0 0"},C=function(e){var t=Object(c.useRef)(null),n=Object(d.useXarrow)();return Object(m.jsx)(O.a,{nodeRef:t,bounds:"parent",position:e.node.position,onStop:function(t,c){n(t),e.updateNode(e.index,Object(u.a)(Object(u.a)({},e.node),{},{position:{x:c.x,y:c.y}}))},onDrag:function(e){n(e)},onMouseDown:function(){e.onClick()},children:e.node.isStarting?Object(m.jsxs)(a.a,{ref:t,sx:y,children:[Object(m.jsx)(a.a,{sx:w,id:"entryNode"}),Object(m.jsx)(a.a,{sx:e.node.isAccepting?Object(u.a)(Object(u.a)({},S),k):S,id:e.node.label,children:Object(m.jsx)(v,{contextMenuItems:e.contextMenuItems,children:Object(m.jsx)(x.a,{children:e.node.label})})})]}):Object(m.jsx)(a.a,{ref:t,id:e.node.label,sx:e.node.isAccepting?Object(u.a)(Object(u.a)({},S),k):S,children:Object(m.jsx)(v,{contextMenuItems:e.contextMenuItems,children:Object(m.jsx)(x.a,{children:e.node.label})})})})},M=function(){var e=Object(c.useRef)(null),t=function(){var e=Object(c.useState)({x:0,y:0}),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=function(e){return o({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),n}(),n=Object(d.useXarrow)();Object(c.useEffect)((function(){n()}),[]);var o={transform:"translate3d(".concat(t.x-18,"px, ").concat(t.y-18,"px, 0)")};return Object(m.jsx)(a.a,{id:"mouseTracker",ref:e,sx:o})},I={height:"100%",width:"100%",minWidth:"100vw",boxSizing:"border-box",padding:"24px"},A={color:"black",strokeWidth:2},X=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),o=n[0],i=n[1],r=Object(c.useState)([]),a=Object(s.a)(r,2),x=a[0],f=a[1],O=Object(c.useState)(null),h=Object(s.a)(O,2),p=h[0],g=h[1],S=function(e){if(0===o.length)return i([{label:"S0",isStarting:!0,isAccepting:!1,position:{x:0,y:0}}]),void f([{start:"entryNode",end:"S0"}]);var t={label:"S".concat(o.length),isAccepting:!1,position:{x:0,y:0}};i((function(e){return[].concat(Object(l.a)(e),[t])}))},k=function(e,t){var n=Object(l.a)(o);n[e]=t,i(n)},y=function(){var e=o.map((function(e,t){var n=[e.isAccepting?{text:"Make Non-accepting State",handleClick:function(){return k(t,Object(u.a)(Object(u.a)({},e),{},{isAccepting:!1}))}}:{text:"Make Accepting State",handleClick:function(){return k(t,Object(u.a)(Object(u.a)({},e),{},{isAccepting:!0}))}},{text:"Add Transition",handleClick:function(){return function(e){var t={start:e.label,end:"mouseTracker",value:0};g(t),f((function(e){return[].concat(Object(l.a)(e),[t])}))}(e)}},{text:"Delete",handleClick:function(){return function(e){var t=o.filter((function(t){return t.label!==e.label}));if(e.isStarting&&1!==o.length){t[0].isStarting=!0;var n=Object(l.a)(x);n[0].end=t[0].label,f(n)}var c=x.filter((function(t){return t.start!==e.label&&t.end!==e.label}));i(t),f(c)}(e)}}];return Object(m.jsx)(C,{updateNode:k,onClick:function(){return function(e){if(p){var t=x.filter((function(e){return"mouseTracker"!==e.end})),n=x[x.length-1];n.end=e.label,g(null),f([].concat(Object(l.a)(t),[n]))}}(e)},contextMenuItems:n,index:t,node:e},"".concat(e.label,"-").concat(t))})),t=x.map((function(e,t){return Object(m.jsx)(j.a,Object(u.a)(Object(u.a)({},e),A),"".concat(e.start,"-").concat(e.end,"-").concat(t))}));return[].concat(Object(l.a)(e),Object(l.a)(t))},w=[{text:"Add State",handleClick:function(e){return S()}}];return Object(m.jsx)(v,{contextMenuItems:w,children:Object(m.jsx)(b.a,{sx:I,children:Object(m.jsxs)(d.Xwrapper,{children:[Object(m.jsx)(M,{}),Object(m.jsx)(y,{})]})})})},D={display:"flex",height:"100%"},E=function(){return Object(m.jsx)(a.a,{sx:D,children:Object(m.jsx)(X,{})})};r.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.ac63177f.chunk.js.map