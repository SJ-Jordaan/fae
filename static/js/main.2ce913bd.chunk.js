(this.webpackJsonpfae=this.webpackJsonpfae||[]).push([[0],{74:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(21),i=n.n(r),a=(n(74),n(119)),s=n(18),l=n(12),u=n(10),d=n(121),b=n(24),j=n.n(b),f=n(120),x=n(64),O=n.n(x),h=n(117),m=n(116),g=n(2),p={cursor:"context-menu",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},v=function(e){var t,n=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],o=t[1];return[n,function(e){e.preventDefault(),e.stopPropagation(),o(null===n?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null)},function(){o(null)}]}(),o=Object(u.a)(n,3),r=o[0],i=o[1],s=o[2];return Object(g.jsxs)(a.a,{sx:p,onContextMenu:i,children:[e.children,Object(g.jsx)(m.a,{open:null!==r,onClose:s,anchorReference:"anchorPosition",anchorPosition:null!==r?{top:r.mouseY,left:r.mouseX}:void 0,children:null===(t=e.contextMenuItems)||void 0===t?void 0:t.map((function(e,t){return Object(g.jsx)(h.a,{onMouseDown:function(t){e.handleClick(t),s()},children:e.text},"menuItem-".concat(t))}))})]})},S={display:"flex",borderRadius:"50%",borderColor:"grey.500",border:1,justifyContent:"center",alignItems:"center",width:"3em",boxSizing:"border-box",height:"3em",backgroundColor:"white"},I={border:"4px double black"},k={display:"flex",justifyContent:"center",boxSizing:"border-box",width:"100px",alignItems:"center"},y={display:"flex",margin:"0 24px 0 0"},C=function(e){var t=Object(c.useRef)(null),n=Object(b.useXarrow)();return Object(g.jsx)(O.a,{nodeRef:t,bounds:"parent",position:e.node.position,onStop:function(t,c){n(t),e.updateNode(e.index,Object(s.a)(Object(s.a)({},e.node),{},{position:{x:c.x,y:c.y}}))},onDrag:function(e){n(e)},onMouseDown:function(){e.onClick()},children:e.node.isStarting?Object(g.jsxs)(a.a,{ref:t,sx:k,children:[Object(g.jsx)(a.a,{sx:y,id:"entryNode"}),Object(g.jsx)(a.a,{sx:e.node.isAccepting?Object(s.a)(Object(s.a)({},S),I):S,id:e.node.label,children:Object(g.jsx)(v,{contextMenuItems:e.contextMenuItems,children:Object(g.jsx)(f.a,{children:e.node.label})})})]}):Object(g.jsx)(a.a,{ref:t,id:e.node.label,sx:e.node.isAccepting?Object(s.a)(Object(s.a)({},S),I):S,children:Object(g.jsx)(v,{contextMenuItems:e.contextMenuItems,children:Object(g.jsx)(f.a,{children:e.node.label})})})})},w=function(){var e=Object(c.useRef)(null),t=function(){var e=Object(c.useState)({x:0,y:0}),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=function(e){return o({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),n}(),n=Object(b.useXarrow)();Object(c.useEffect)((function(){n()}),[]);var o={transform:"translate3d(".concat(t.x-18,"px, ").concat(t.y-18,"px, 0)")};return Object(g.jsx)(a.a,{id:"mouseTracker",ref:e,sx:o})},M=n(38),A=function e(){Object(M.a)(this,e)};A.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=JSON.stringify(t);sessionStorage.setItem(e,c),n&&localStorage.setItem(e,c)},A.getItem=function(e){var t=sessionStorage.getItem(e)||localStorage.getItem(e);return t?JSON.parse(t):null},A.removeItem=function(e){sessionStorage.removeItem(e),localStorage.removeItem(e)};var N="NODES",X="TRANSITIONS",D={height:"100%",width:"100%",minWidth:"100vw",boxSizing:"border-box",padding:"24px"},E={color:"black",strokeWidth:2},R=function(e){var t=Object(c.useState)(A.getItem(N)||[]),n=Object(u.a)(t,2),o=n[0],r=n[1],i=Object(c.useState)(A.getItem(X)||[]),a=Object(u.a)(i,2),f=a[0],x=a[1],O=Object(c.useState)(null),h=Object(u.a)(O,2),m=h[0],p=h[1],S=function(e){if(0===o.length)return r([{label:"S0",isStarting:!0,isAccepting:!1,position:{x:0,y:0}}]),void x([{start:"entryNode",end:"S0"}]);var t={label:"S".concat(o.length),isAccepting:!1,position:{x:0,y:0}};r((function(e){return[].concat(Object(l.a)(e),[t])}))},I=function(e,t){var n=Object(l.a)(o);n[e]=t,r(n)},k=function(){var e=o.map((function(e,t){var n=[e.isAccepting?{text:"Make Non-accepting State",handleClick:function(){return I(t,Object(s.a)(Object(s.a)({},e),{},{isAccepting:!1}))}}:{text:"Make Accepting State",handleClick:function(){return I(t,Object(s.a)(Object(s.a)({},e),{},{isAccepting:!0}))}},{text:"Add Transition",handleClick:function(){return function(e){var t={start:e.label,end:"mouseTracker",value:0};p(t),x((function(e){return[].concat(Object(l.a)(e),[t])}))}(e)}},{text:"Delete",handleClick:function(){return function(e){var t=o.filter((function(t){return t.label!==e.label}));if(e.isStarting&&1!==o.length){t[0].isStarting=!0;var n=Object(l.a)(f);n[0].end=t[0].label,x(n)}var c=f.filter((function(t){return t.start!==e.label&&t.end!==e.label}));r(t),x(c)}(e)}}];return Object(g.jsx)(C,{updateNode:I,onClick:function(){return function(e){if(m){var t=f.filter((function(e){return"mouseTracker"!==e.end})),n=f[f.length-1];n.end=e.label,p(null),x([].concat(Object(l.a)(t),[n]))}}(e)},contextMenuItems:n,index:t,node:e},"".concat(e.label,"-").concat(t))})),t=f.map((function(e,t){return Object(g.jsx)(j.a,Object(s.a)(Object(s.a)({},e),E),"".concat(e.start,"-").concat(e.end,"-").concat(t))}));return[].concat(Object(l.a)(e),Object(l.a)(t))},y=[{text:"Add State",handleClick:function(e){return S()}},{text:"Save Progress",handleClick:function(){A.setItem(N,o,!0),A.setItem(X,f,!0)}},{text:"Clear Canvas",handleClick:function(){x([]),r([])}}];return Object(g.jsx)(v,{contextMenuItems:y,children:Object(g.jsx)(d.a,{sx:D,children:Object(g.jsxs)(b.Xwrapper,{children:[m&&Object(g.jsx)(w,{}),Object(g.jsx)(k,{})]})})})},T={display:"flex",height:"100%"},J=function(){return Object(g.jsx)(a.a,{sx:T,children:Object(g.jsx)(R,{})})};i.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.2ce913bd.chunk.js.map