(this.webpackJsonpfae=this.webpackJsonpfae||[]).push([[0],{138:function(e,t){},139:function(e,t){},178:function(e,t,n){},199:function(e,t){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(38),i=n.n(r),o=(n(178),n(244)),l=n(17),s=n(15),u=n(12),d=n(83),j=n(283),b=n(43),h=n.n(b),x=n(143),f=n.n(x),O=n(272),v=n(149),p=n(2),g={cursor:"context-menu",display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},m=function(e){var t,n=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1];return[n,function(e){e.preventDefault(),e.stopPropagation(),c(null===n?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null)},function(){c(null)}]}(),c=Object(u.a)(n,3),r=c[0],i=c[1],l=c[2];return Object(p.jsxs)(o.a,{sx:g,onContextMenu:i,children:[e.children,Object(p.jsx)(v.a,{open:null!==r,onClose:l,anchorReference:"anchorPosition",anchorPosition:null!==r?{top:r.mouseY,left:r.mouseX}:void 0,children:null===(t=e.contextMenuItems)||void 0===t?void 0:t.map((function(e,t){return Object(p.jsx)(O.a,{onMouseDown:function(t){e.handleClick(t),l()},children:e.text},"menuItem-".concat(t))}))})]})},y="nodes",S="transitions",w={display:"flex",borderRadius:"50%",borderColor:"grey.500",border:1,justifyContent:"center",alignItems:"center",width:"3em",boxSizing:"border-box",height:"3em",backgroundColor:"white"},C={border:"4px double black"},k={display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",width:"100px",alignItems:"center"},A={display:"flex",margin:"0 24px 0 0"},I={margin:"0 0 48px 48px"},M=function(e){var t,n,c=Object(a.useRef)(null),r=Object(b.useXarrow)();return Object(p.jsx)(f.a,{nodeRef:c,bounds:"parent",position:e.node.position,onStop:function(t,n){r(t),e.updateNode(e.index,Object(l.a)(Object(l.a)({},e.node),{},{position:{x:n.x,y:n.y}}))},onDrag:function(e){r(e)},onMouseDown:function(){e.onClick()},children:e.node.isStarting?Object(p.jsx)(o.a,{ref:c,sx:k,children:Object(p.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 0 48px"},children:[Object(p.jsx)(o.a,{sx:I,id:"self-".concat(null===(t=e.node)||void 0===t?void 0:t.label)}),Object(p.jsx)(o.a,{sx:A,id:"entryNode"}),Object(p.jsx)(o.a,{sx:e.node.isAccepting?Object(l.a)(Object(l.a)({},w),C):w,id:e.node.label,children:Object(p.jsx)(m,{contextMenuItems:e.contextMenuItems,children:Object(p.jsx)(d.a,{children:e.node.label})})})]})}):Object(p.jsx)(o.a,{ref:c,id:e.node.label,sx:e.node.isAccepting?Object(l.a)(Object(l.a)({},w),C):w,children:Object(p.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 0 48px"},children:[Object(p.jsx)(o.a,{sx:I,id:"self-".concat(null===(n=e.node)||void 0===n?void 0:n.label)}),Object(p.jsx)(m,{contextMenuItems:e.contextMenuItems,children:Object(p.jsx)(d.a,{children:e.node.label})})]})})})},D=function(){var e=Object(a.useRef)(null),t=function(){var e=Object(a.useState)({x:0,y:0}),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(e){return c({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),n}(),n=Object(b.useXarrow)();Object(a.useEffect)((function(){n()}),[]);var c={transform:"translate3d(".concat(t.x-24,"px, ").concat(t.y-80,"px, 0)")};return Object(p.jsx)(o.a,{id:"mouseTracker",ref:e,sx:c})},T=n(267),F=n(273),N=n(276),W=n(274),P=n(275),E=n(250),R=n(266),X=function(e){var t,n,c=Object(a.useState)([]),r=Object(u.a)(c,2),i=r[0],o=r[1],s=function(){var t;null===(t=e.onClose)||void 0===t||t.call(e,e.transition),o([])};return Object(p.jsx)(R.a,{open:e.showModal,children:Object(p.jsxs)(F.a,{open:e.showModal,onClose:s,children:[Object(p.jsx)(E.a,{children:"Transition Value"}),Object(p.jsxs)(W.a,{children:[Object(p.jsxs)(P.a,{children:["Enter the value for the transition from ",null===(t=e.transition)||void 0===t?void 0:t.start," to"," ",null===(n=e.transition)||void 0===n?void 0:n.end,"."]}),Object(p.jsx)(be,{values:e.alphabet,onChange:function(e){return o(e)}})]}),Object(p.jsxs)(N.a,{children:[Object(p.jsx)(T.a,{onClick:s,children:"Cancel"}),Object(p.jsx)(T.a,{onClick:function(){var t;null===(t=e.onSubmit)||void 0===t||t.call(e,e.transition,Object(l.a)(Object(l.a)({},e.transition),{},{value:i,labels:Object(p.jsx)(d.a,{bgcolor:"white",children:null===i||void 0===i?void 0:i.join(",")})})),o([])},children:"Submit"})]})]})})},z=n(251),J=n(268),Y=n(252),L=n(277),G=n(278),H=n(271),U=n(253),B=n(262),V=n(254),q=n(255),K=n(146),Q=n.n(K),Z=n(256),$=function(e){return Object(p.jsxs)(z.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)(Y.a,{}),Object(p.jsx)(L.a,{position:"fixed",sx:{width:"calc(100% - ".concat(e.drawerWidth,"px)"),mr:"".concat(e.drawerWidth,"px")},children:Object(p.jsx)(G.a,{children:Object(p.jsx)(d.a,{variant:"h6",noWrap:!0,component:"div",children:e.title})})}),Object(p.jsx)(G.a,{}),Object(p.jsx)(z.a,{component:"main",sx:{flexGrow:1,bgcolor:"background.default"},children:e.children}),Object(p.jsxs)(J.a,{sx:{width:e.drawerWidth,flexShrink:0,"& .MuiDrawer-paper":{width:e.drawerWidth,boxSizing:"border-box"}},variant:"permanent",anchor:"right",children:[Object(p.jsx)(G.a,{children:Object(p.jsx)(d.a,{variant:"h6",noWrap:!0,component:"div",children:"Details"})}),Object(p.jsx)(U.a,{}),Object(p.jsxs)(H.a,{children:[Object(p.jsxs)(B.a,{children:[Object(p.jsx)(V.a,{children:Object(p.jsx)(Q.a,{})}),Object(p.jsx)(q.a,{primary:e.alphabet})]},"Alphabet"),Object(p.jsxs)(B.a,{children:[Object(p.jsx)(Z.a,{onClick:e.handlePrettify,children:"Prettify"}),Object(p.jsx)(q.a,{primary:e.type})]},"Type")]}),Object(p.jsx)(U.a,{})]})]})},_=n(263),ee=n(257),te=n(258),ne=n(282),ae=function(e){var t=c.a.useState(0),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)("a,b"),l=Object(u.a)(o,2),s=l[0],d=l[1],j=Object(a.useState)(4),b=Object(u.a)(j,2),h=b[0],x=b[1],f=Object(a.useState)(0),O=Object(u.a)(f,2),v=O[0],g=O[1],m=Object(a.useState)("DFA"),y=Object(u.a)(m,2),S=y[0],w=y[1],C=function(e){w(e?"NFA":"DFA")},k=function(e){var t=e.index;return Object(p.jsx)(p.Fragment,{children:r===t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a,{margin:"dense",id:"alphabet",label:"Alphabet",helperText:"Use comma separated values 0,1 or a,b etc",type:"text",value:s,onInput:function(e){return d(e.target.value)},variant:"standard"}),Object(p.jsx)(re,{leftText:"DFA",rightText:"NFA",onChange:C})]})})},A=function(e){var t=e.index;return Object(p.jsx)(p.Fragment,{children:r===t&&Object(p.jsxs)(ee.a,{direction:"column",spacing:1,children:[Object(p.jsx)(_.a,{margin:"dense",id:"alphabet",label:"Alphabet",helperText:"Use comma separated values 0,1 or a,b etc",type:"text",value:s,onInput:function(e){return d(e.target.value)},variant:"standard"}),Object(p.jsx)(re,{leftText:"DFA",rightText:"NFA",onChange:C}),Object(p.jsx)(_.a,{margin:"dense",id:"node count",label:"Number of states",type:"number",value:h,onInput:function(e){return x(parseInt(e.target.value))},variant:"standard"}),Object(p.jsx)(_.a,{margin:"dense",id:"transition count",label:"Number of transitions",type:"number",value:v,onInput:function(e){return g(e.target.value)},variant:"standard"})]})})};return Object(p.jsx)(R.a,{open:e.showModal,children:Object(p.jsxs)(F.a,{open:e.showModal,children:[Object(p.jsxs)(W.a,{children:[Object(p.jsxs)(te.a,{value:r,onChange:function(e,t){i(t)},children:[Object(p.jsx)(ne.a,{label:"Design"}),Object(p.jsx)(ne.a,{label:"Generate"})]}),Object(p.jsx)(k,{index:0}),Object(p.jsx)(A,{index:1})]}),Object(p.jsx)(N.a,{children:Object(p.jsx)(T.a,{onClick:function(){var t;null===(t=e.onSubmit)||void 0===t||t.call(e,r,null===s||void 0===s?void 0:s.split(","),S,h,v)},children:"Submit"})})]})})},ce=n(265),re=function(e){var t=c.a.useState(!1),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(p.jsxs)(ee.a,{direction:"row",spacing:1,alignItems:"center",children:[e.leftText&&Object(p.jsx)(d.a,{children:e.leftText}),Object(p.jsx)(ce.a,{checked:a,onChange:function(t){var n;r(t.target.checked),null===(n=e.onChange)||void 0===n||n.call(e,t.target.checked)}}),e.rightText&&Object(p.jsx)(d.a,{children:e.rightText})]})},ie=n(26),oe=n(269),le=n(264),se=n(281),ue=n(260),de={PaperProps:{style:{maxHeight:224,width:250}}},je=function(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}},be=function(e){var t=Object(ie.a)(),n=a.useState([]),c=Object(u.a)(n,2),r=c[0],i=c[1];return Object(p.jsx)("div",{children:Object(p.jsxs)(se.a,{sx:{m:1,width:300},children:[Object(p.jsx)(le.a,{id:"demo-multiple-name-label",children:e.title}),Object(p.jsx)(ue.a,{labelId:"demo-multiple-name-label",id:"demo-multiple-name",multiple:!0,value:r,onChange:function(t){var n,a=t.target.value;i("string"===typeof a?a.split(","):a),null===(n=e.onChange)||void 0===n||n.call(e,"string"===typeof a?a.split(","):a)},input:Object(p.jsx)(oe.a,{label:e.title}),MenuProps:de,children:e.values.map((function(e){return Object(p.jsx)(O.a,{value:e,style:je(e,r,t),children:e},e)}))})]})})},he=n(66),xe=n(65),fe=Object(he.a)((function e(){Object(xe.a)(this,e)}));fe.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=JSON.stringify(t);sessionStorage.setItem(e,a),n&&localStorage.setItem(e,a)},fe.getItem=function(e){var t=sessionStorage.getItem(e)||localStorage.getItem(e);return t?JSON.parse(t):null},fe.removeItem=function(e){sessionStorage.removeItem(e),localStorage.removeItem(e)};var Oe=n(77),ve=function(e,t){return e.map((function(e){var n,a={label:e,isAccepting:!1,isStarting:!1},c=Object(Oe.a)(t);try{for(c.s();!(n=c.n()).done;){a[n.value]=null}}catch(r){c.e(r)}finally{c.f()}return a}))},pe=n(148),ge=function(e){var t=function(e){return"entryNode"===e.start?"":"".concat(e.start," -> ").concat(e.end,' [label = "').concat(e.value,'"];')};return Object(p.jsx)(pe.a,{dot:function(){var n,a="",c=Object(Oe.a)(e.nodes);try{for(c.s();!(n=c.n()).done;){var r=n.value;r.isAccepting&&(a+=" ".concat(r.label))}}catch(u){c.e(u)}finally{c.f()}var i,o='digraph fsm {\n      rankdir=LR;\n      size="8,5"\n      node [shape = doublecircle];'.concat(a,";\n      node [shape = circle];\n    "),l=Object(Oe.a)(e.transitions);try{for(l.s();!(i=l.n()).done;){var s=i.value;o+=t(s)}}catch(u){l.e(u)}finally{l.f()}return o+="}",console.log(o),o}()})},me={height:"100%",width:"100%",minWidth:"calc(100vw - ".concat(240,"px)"),boxSizing:"border-box",padding:"24px"},ye={color:"black",strokeWidth:2,path:"straight"},Se=function(e){var t,n=Object(a.useState)(fe.getItem(y)||[]),c=Object(u.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(fe.getItem(S)||[]),x=Object(u.a)(o,2),f=x[0],O=x[1],v=Object(a.useState)(null),g=Object(u.a)(v,2),w=g[0],C=g[1],k=Object(a.useState)(!1),A=Object(u.a)(k,2),I=A[0],T=A[1],F=Object(a.useState)(null),N=Object(u.a)(F,2),W=N[0],P=N[1],E=Object(a.useState)(null===W),R=Object(u.a)(E,2),z=R[0],J=R[1],Y=Object(a.useState)(!1),L=Object(u.a)(Y,2),G=L[0],H=L[1],U=function(e){if("DFA"===e.type){var t=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Object(s.a)(null===(e=Array(n))||void 0===e?void 0:e.keys()),i=ve(r,a);i[0].isStarting=!0;for(var o=r.shift();r.length>0;){var l=Math.floor(Math.random()*r.length),u=Math.floor(Math.random()*a.length),d=r.splice(l,1)[0],j=a[u],b=i.findIndex((function(e){return e.label===o}));i[b][j]=d,o=d}for(var h=Object(s.a)(null===(t=Array(n))||void 0===t?void 0:t.keys()),x=0;x<i.length;x++)for(var f=0;f<a.length;f++){var O=a[f];if(null===i[x][O]){var v=Math.floor(Math.random()*h.length);i[x][O]=h[v]}}for(var p=0;p<c;p++){i[Math.floor(Math.random()*h.length)].isAccepting=!0}return i}(e.nodeCount,e.alphabet,e.finalCount),n=function(e){for(var t=[],n=[{start:"entryNode",end:"S0"}],a=["label","isAccepting","isStarting"],c=0;c<e.length;c++){var r=e[c];t.push({label:"S".concat(r.label),isAccepting:r.isAccepting,isStarting:r.isStarting,position:{x:0,y:0}});var i=function(e){if(Object.hasOwnProperty.call(r,e)&&!a.includes(e)){var t=r[e],c="S".concat(r.label),i="S".concat(t),o=!1,s=n.flatMap((function(t){return t.start===c&&t.end===i?(o=!0,Object(l.a)(Object(l.a)({},t),{},{value:[t.value,e],labels:Object(p.jsx)(d.a,{bgcolor:"white",children:"".concat(t.value,",").concat(e)})})):t}));if(o)return n=s,"continue";n.push({start:c,end:i,value:e,labels:Object(p.jsx)(d.a,{bgcolor:"white",children:e})})}};for(var o in r)i(o)}return{nodes:t,transitions:n}}(t),a=n.nodes,c=n.transitions;return i(a),void O(c)}},B=function(){i([{label:"S0",isStarting:!0,isAccepting:!1,position:{x:0,y:0}}]),O([{start:"entryNode",end:"S0"}])},V=function(e,t){var n=Object(s.a)(r);n[e]=t,i(n)},q=function(){var e=r.map((function(e,t){var n=[e.isAccepting?{text:"Make Non-accepting State",handleClick:function(){return V(t,Object(l.a)(Object(l.a)({},e),{},{isAccepting:!1}))}}:{text:"Make Accepting State",handleClick:function(){return V(t,Object(l.a)(Object(l.a)({},e),{},{isAccepting:!0}))}},{text:"Add Transition",handleClick:function(){return function(e){var t={start:e.label,end:"mouseTracker",value:[0]};C(t),O((function(e){return[].concat(Object(s.a)(e),[t])}))}(e)}},{text:"Delete",handleClick:function(){return function(e){var t=r.filter((function(t){return t.label!==e.label}));if(e.isStarting&&1!==r.length){t[0].isStarting=!0;var n=Object(s.a)(f);n[0].end=t[0].label,O(n)}var a=f.filter((function(t){return t.start!==e.label&&t.end!==e.label}));i(t),O(a)}(e)}}];return Object(p.jsx)(M,{updateNode:V,onClick:function(){return function(e){if(w){var t=f.filter((function(e){return"mouseTracker"!==e.end})),n=f[f.length-1];n.end=e.label,C(null),T(!0),O([].concat(Object(s.a)(t),[n]))}}(e)},contextMenuItems:n,index:t,node:e},"".concat(e.label,"-").concat(t))})),t=f.map((function(e,t){return e.start===e.end?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h.a,Object(l.a)({start:"self-".concat(e.start),end:e.end,curveness:0,endAnchor:"top",startAnchor:"top"},ye),"".concat(e.start,"-self-").concat(t)),Object(p.jsx)(h.a,Object(l.a)({start:e.start,labels:e.labels,curveness:.3,end:"self-".concat(e.end),startAnchor:"right",showHead:!1,endAnchor:"top"},ye),"".concat(e.start,"-").concat(e.end,"-").concat(t))]}):Object(p.jsx)(h.a,Object(l.a)(Object(l.a)({},e),ye),"".concat(e.start,"-").concat(e.end,"-").concat(t))}));return[].concat(Object(s.a)(e),Object(s.a)(t))},K=[{text:"Add State",handleClick:function(e){return function(e){if(0!==r.length){var t=!0,n=0;do{var a=void 0;for(a=0;a<r.length;a++)if(r[a].label==="S".concat(n)){n++;break}a===r.length&&(t=!1)}while(t);var c={label:"S".concat(n),isAccepting:!1,position:{x:0,y:0}};i((function(e){return[].concat(Object(s.a)(e),[c])}))}else B()}()}},{text:"Save Progress",handleClick:function(){fe.setItem(y,r,!0),fe.setItem(S,f,!0)}},{text:"Clear Canvas",handleClick:function(){O([]),i([])}}];return Object(p.jsx)($,{drawerWidth:240,title:"Finite Automata Editor",alphabet:null===W||void 0===W||null===(t=W.alphabet)||void 0===t?void 0:t.join(","),type:null===W||void 0===W?void 0:W.type,handlePrettify:function(){return H(!G)},children:G?Object(p.jsx)(ge,{nodes:r,transitions:f}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m,{contextMenuItems:K,children:Object(p.jsx)(j.a,{sx:me,children:Object(p.jsxs)(b.Xwrapper,{children:[w&&Object(p.jsx)(D,{}),Object(p.jsx)(q,{})]})})}),Object(p.jsx)(X,{showModal:I,alphabet:null===W||void 0===W?void 0:W.alphabet,transition:f[f.length-1],onSubmit:function(e,t){!function(e,t){var n=f.filter((function(t){return t!==e})),a=!1,c=n.flatMap((function(e){return e.start===t.start&&e.end===t.end?(a=!0,Object(l.a)(Object(l.a)({},e),{},{value:[e.value,t.value],labels:Object(p.jsx)(d.a,{bgcolor:"white",children:"".concat(e.value,",").concat(t.value)})})):e}));O(a?c:[].concat(Object(s.a)(n),[t]))}(e,t),T(!1),C(null)},onClose:function(e){T(!1),function(e){var t=f.filter((function(t){return t!==e}));O(t)}(e),C(null)}}),Object(p.jsx)(ae,{showModal:z,onSubmit:function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i={mode:e,alphabet:t,type:n,nodeCount:a,transitionCount:c,finalCount:r};if(P(i),1===e)return U(i),void J(!1);B(),J(!1)}})]})})},we={display:"flex",height:"100%"},Ce=function(){return Object(p.jsx)(o.a,{sx:we,children:Object(p.jsx)(Se,{})})};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Ce,{})}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.93dd9fda.chunk.js.map